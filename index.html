<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quizlet Simplifié - Créateur de Questions</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }
        .mode-button, .create-button, .edit-button {
            padding: 10px 20px;
            margin: 10px;
            border: none;
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
            font-size: 16px;
        }
        .create-button {
            background-color: #2196F3;
        }
        .edit-button {
            background-color: #FF9800;
        }
        .mode-button:hover, .create-button:hover, .edit-button:hover {
            background-color: #db2929;
        }
        #flashcard, #qcm, #creator, #edit-section {
            display: none;
            margin-top: 20px;
        }
        .flashcard, .qcm-question {
            font-size: 18px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            padding: 20px;
            background-color: white;
        }
        .qcm-options {
            display: flex;
            flex-direction: column;
        }
        .qcm-options button {
            padding: 10px;
            margin: 5px 0;
            background-color: #f4f4f9;
            border: 1px solid #ddd;
            cursor: pointer;
        }
        .qcm-options button:hover {
            background-color: #ddd;
        }
        .form-group {
            margin: 15px 0;
        }
        .form-group input, .form-group textarea {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            margin-top: 5px;
        }
        .edit-section {
            text-align: left;
        }
        .edit-section button {
            margin-top: 10px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Créateur de Questions & Flashcards</h1>
    <p>Crée tes propres questions ou flashcards puis choisis un mode d'apprentissage :</p>
    
    <button class="create-button" onclick="showCreator()">Créer des questions</button>
    <button class="edit-button" onclick="showEdit()">Modifier les questions</button>

    <!-- Formulaire de création de questions -->
    <div id="creator">
        <h3>Ajouter une question QCM</h3>
        <div class="form-group">
            <label for="question">Question :</label>
            <input type="text" id="question" placeholder="Entrez votre question ici">
        </div>
        <div class="form-group">
            <label for="answer1">Réponse 1 :</label>
            <input type="text" id="answer1" placeholder="Entrez la première réponse">
        </div>
        <div class="form-group">
            <label for="answer2">Réponse 2 :</label>
            <input type="text" id="answer2" placeholder="Entrez la deuxième réponse">
        </div>
        <div class="form-group">
            <label for="answer3">Réponse 3 :</label>
            <input type="text" id="answer3" placeholder="Entrez la troisième réponse">
        </div>
        <div class="form-group">
            <label for="answer4">Réponse 4 :</label>
            <input type="text" id="answer4" placeholder="Entrez la quatrième réponse">
        </div>
        <div class="form-group">
            <label for="correctAnswer">Indiquez le numéro de la bonne réponse (1-4) :</label>
            <input type="number" id="correctAnswer" min="1" max="4">
        </div>
        <button class="create-button" onclick="addQuestion()">Ajouter la question</button>
    </div>

    <button class="mode-button" onclick="showMode('qcm')">Mode QCM</button>
    <button class="mode-button" onclick="showMode('flashcard')">Mode Flashcards</button>

    <!-- Mode QCM -->
    <div id="qcm">
        <h3>Questions QCM</h3>
        <div id="qcm-container"></div>
    </div>

    <!-- Mode Flashcards -->
    <div id="flashcard">
        <h3>Flashcards</h3>
        <div id="flashcard-container"></div>
    </div>

    <!-- Section pour modifier les questions -->
    <div id="edit-section" class="edit-section">
        <h3>Modifier les questions ajoutées</h3>
        <div id="edit-container"></div>
    </div>

    <div id="result"></div>
</div>

<script>
    let questions = [];

    // Affiche le formulaire de création
    function showCreator() {
        document.getElementById('creator').style.display = 'block';
        document.getElementById('edit-section').style.display = 'none';
    }

    // Affiche la section de modification
    function showEdit() {
        document.getElementById('edit-section').style.display = 'block';
        document.getElementById('creator').style.display = 'none';
        generateEditList();
    }

    // Ajouter une question au QCM
    function addQuestion() {
        const question = document.getElementById('question').value;
        const answer1 = document.getElementById('answer1').value;
        const answer2 = document.getElementById('answer2').value;
        const answer3 = document.getElementById('answer3').value;
        const answer4 = document.getElementById('answer4').value;
        const correctAnswer = document.getElementById('correctAnswer').value;

        if (question && answer1 && answer2 && answer3 && answer4 && correctAnswer) {
            const newQuestion = {
                question: question,
                answers: [answer1, answer2, answer3, answer4],
                correct: correctAnswer
            };
            questions.push(newQuestion);
            alert('Question ajoutée avec succès !');
            clearForm();
        } else {
            alert('Veuillez remplir tous les champs.');
        }
    }

    // Efface le formulaire après ajout
    function clearForm() {
        document.getElementById('question').value = '';
        document.getElementById('answer1').value = '';
        document.getElementById('answer2').value = '';
        document.getElementById('answer3').value = '';
        document.getElementById('answer4').value = '';
        document.getElementById('correctAnswer').value = '';
    }

    // Affiche le mode sélectionné (QCM ou Flashcard)
    function showMode(mode) {
        if (mode === 'qcm') {
            document.getElementById('qcm').style.display = 'block';
            document.getElementById('flashcard').style.display = 'none';
            generateQCM();
        } else if (mode === 'flashcard') {
            document.getElementById('flashcard').style.display = 'block';
            document.getElementById('qcm').style.display = 'none';
            generateFlashcards();
        }
        document.getElementById('result').innerHTML = '';  // Reset result
    }

    // Générer les questions du QCM
    function generateQCM() {
        const container = document.getElementById('qcm-container');
        container.innerHTML = '';  // Reset
        questions.forEach((q, index) => {
            const qDiv = document.createElement('div');
            qDiv.classList.add('qcm-question');
            qDiv.innerHTML = `<p>${index + 1}. ${q.question}</p>`;
            const optionsDiv = document.createElement('div');
            optionsDiv.classList.add('qcm-options');
            q.answers.forEach((answer, i) => {
                const btn = document.createElement('button');
                btn.innerHTML = answer;
                btn.onclick = () => checkAnswer(q.correct, i + 1);
                optionsDiv.appendChild(btn);
            });
            qDiv.appendChild(optionsDiv);
            container.appendChild(qDiv);
        });
    }

    // Vérifier la réponse au QCM
    function checkAnswer(correct, selected) {
        const resultDiv = document.getElementById('result');
        if (correct == selected) {
            resultDiv.innerHTML = "<p style='color:green;'>Bonne réponse !</p>";
        } else {
            resultDiv.innerHTML = "<p style='color:red;'>Mauvaise réponse. Réessaye.</p>";
        }
    }

    // Générer les flashcards
    function generateFlashcards() {
        const container = document.getElementById('flashcard-container');
        container.innerHTML = '';  // Reset
        questions.forEach((q, index) => {
            const flashcard = document.createElement('div');
            flashcard.classList.add('flashcard');
            flashcard.innerHTML = `Carte ${index + 1}: ${q.question}`;
            flashcard.onclick = () => {
                flashcard.innerHTML = `Réponse : ${q.answers[q.correct - 1]}`;
            };
            container.appendChild(flashcard);
        });
    }

    // Générer la liste des questions pour modification
    function generateEditList() {
        const container = document.getElementById('edit-container');
        container.innerHTML = '';  // Reset
        questions.forEach((q, index) => {
            const editDiv = document.createElement('div');
            editDiv.classList.add('qcm-question');
            editDiv.innerHTML = `
                <p>Question ${index + 1} : <input type="text" value="${q.question}" id="edit-question-${index}"></p>
                <p>Réponses :</p>
                <input type="text" value="${q.answers[0]}" id="edit-answer1-${index}"> 
                <input type="text" value="${q.answers[1]}" id="edit-answer2-${index}">
                <input type="text" value="${q.answers[2]}" id="edit-answer3-${index}">
                <input type="text" value="${q.answers[3]}" id="edit-answer4-${index}">
                <p>Bonne réponse : <input type="number" value="${q.correct}" id="edit-correct-${index}" min="1" max="4"></p>
                <button class="edit-button" onclick="saveQuestion(${index})">Sauvegarder les modifications</button>
            `;
            container.appendChild(editDiv);
        });
    }

    // Sauvegarder les modifications apportées à une question
    function saveQuestion(index) {
        const newQuestion = document.getElementById(`edit-question-${index}`).value;
        const newAnswer1 = document.getElementById(`edit-answer1-${index}`).value;
        const newAnswer2 = document.getElementById(`edit-answer2-${index}`).value;
        const newAnswer3 = document.getElementById(`edit-answer3-${index}`).value;
        const newAnswer4 = document.getElementById(`edit-answer4-${index}`).value;
        const newCorrect = document.getElementById(`edit-correct-${index}`).value;

        if (newQuestion && newAnswer1 && newAnswer2 && newAnswer3 && newAnswer4 && newCorrect) {
            questions[index].question = newQuestion;
            questions[index].answers = [newAnswer1, newAnswer2, newAnswer3, newAnswer4];
            questions[index].correct = newCorrect;
            alert('Question modifiée avec succès !');
            generateEditList(); // Met à jour l'affichage de la liste des questions modifiées
        } else {
            alert('Veuillez remplir tous les champs.');
        }
    }
</script>

</body>
</html>
